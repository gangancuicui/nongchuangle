(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["subpkg/search/search"],{"081b":function(t,e,n){"use strict";n.r(e);var o=n("3262"),i=n.n(o);for(var r in o)["default"].indexOf(r)<0&&function(t){n.d(e,t,(function(){return o[t]}))}(r);e["default"]=i.a},3256:function(t,e,n){"use strict";n.r(e);var o=n("b29a"),i=n("081b");for(var r in i)["default"].indexOf(r)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(r);n("739c");var s=n("f0c5"),a=Object(s["a"])(i["default"],o["b"],o["c"],!1,null,null,null,!1,o["a"],void 0);e["default"]=a.exports},3262:function(t,e,n){"use strict";(function(t){var o=n("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=o(n("2eee")),r=o(n("448a")),s=o(n("c973")),a={data:function(){return{timer:null,keyWord:"",searList:[],b:{},historyList:[]}},onLoad:function(){this.historyList=JSON.parse(t.getStorageSync("keyWord")||"[]")},methods:{input:function(t){var e=this;this.b=t,console.log("this"+t),clearTimeout(this.timer),this.timer=setTimeout((function(){e.keyWord=t,e.getSearchList(),console.log(e.keyWord)}),500)},getSearchList:function(){var e=this;return(0,s.default)(i.default.mark((function n(){var o;return i.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(""!==e.keyWord){n.next=3;break}return e.searList=[],n.abrupt("return");case 3:o=t.cloud.database().collection("goods").where({goods_name:{$regex:".*"+e.keyWord+".*",$options:"1"}}),o.get({success:function(t){console.log(t),e.searList=t.data}});case 5:case"end":return n.stop()}}),n)})))()},gotoDetail:function(e){console.log(e),t.navigateTo({url:"/subpkg/goods_detail/goods_detail?goods_id="+e})},gethistoryList:function(){var e=new Set(historyList);e.delete(this.keyWord),e.add(this.keyWord),this.historyList=Array.from(e),t.setStorageSync("keyWord",JSON.stringify(this.historyList))},clear:function(){this.historyList=[],t.setStorageSync("keyWord","[]")},gotogoodList:function(e){t.navigateTo({url:"/subpkg/goods_list/goods_list?query="+e})}},computed:{historys:function(){return(0,r.default)(this.historyList).reverse()}}};e.default=a}).call(this,n("543d")["default"])},"739c":function(t,e,n){"use strict";var o=n("ffb7"),i=n.n(o);i.a},b29a:function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return o}));var o={uniSearchBar:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uni-search-bar/components/uni-search-bar/uni-search-bar")]).then(n.bind(null,"2f3e"))},uniIcons:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uni-icons/components/uni-icons/uni-icons")]).then(n.bind(null,"44c7"))}},i=function(){var t=this.$createElement,e=(this._self._c,this.searList.length);this.$mp.data=Object.assign({},{$root:{g0:e}})},r=[]},e1f2:function(t,e,n){"use strict";(function(t,e){var o=n("4ea4");n("fc87");o(n("66fd"));var i=o(n("3256"));t.__webpack_require_UNI_MP_PLUGIN__=n,e(i.default)}).call(this,n("bc2e")["default"],n("543d")["createPage"])},ffb7:function(t,e,n){}},[["e1f2","common/runtime","common/vendor"]]]);